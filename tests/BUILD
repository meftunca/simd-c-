cc_test(
    name = "testing",
    size = "small",
    # srcs = ["main_test.cc","create_or_append_collection_test.cc"],
    srcs = glob(["**/*.cc"]),
    # hdrs = glob(["/opt/homebrew/Cellar/gperftools/2.13/include/**/*.h"]),
    # hdrs = glob(["/opt/homebrew/include/gperftools/*.h"]),
    copts = [
        "-O0",
        "-gfull",
        "-flto",
        "-std=c++20",
        "-stdlib=libc++",
        "-ltcmalloc",
        # "-fprofile-instr-generate",
        # "-fcoverage-mapping",
        # "-fno-omit-frame-pointer",
        # "-fno-optimize-sibling-calls",
        # "-fxray-instrument",
    ],
    deps = [
        "@com_google_googletest//:gtest_main",
        # "@eastl",
        # "//dependencies:tcmalloc",
        # "@yyjson",
        # "@jfalcou-eve",
        # "@lz4",
        # "@mio",
        "//src:bon_lib",
    ],
    # visibility = ["//visibility:public"],
    # copts = ["-Iexternal/llvm/include"],
    # linkopts = ["-Lexternal/llvm/lib","-lexternals"],
)
